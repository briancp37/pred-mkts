# [1-4] Raw snapshot writer + layout
[Back to task list](../tasks.md)

## Description
Create snapshot writer utilities and directory layout for raw JSONL and manifests with atomic writes.

## Status History
| Timestamp | Event Type | From Status | To Status | Details | User |
|-----------|------------|-------------|-----------|---------|------|
| 2025-10-15 22:20:09 | Created | N/A | Proposed | Task file created | you |

## Requirements
- Path scheme: `artifacts/raw/polymarket/{YYYY-MM-DD}/{endpoint}/page-<n>.jsonl`.
- `manifest.json` (start/end time, endpoint, params, page count, commit SHA).
- Atomic writes: tmp â†’ rename.

## Implementation Plan
- Implement in `src/pred_mkts/core/snapshots.py`.
- Tests in `tests/unit/test_snapshots.py`.

## Verification (Test Plan)
- Unit tests verify file creation, manifest schema, atomicity, and idempotence.

## Files Modified
- src/pred_mkts/core/snapshots.py
- tests/unit/test_snapshots.py

**Anchors**: # [CTX:PBI-1:1-4:SNAPSHOTS]
